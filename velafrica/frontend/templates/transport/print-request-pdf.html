{% extends "easy_pdf/base.html" %}

{% block extra_style %}
    <style type="text/css">
        @page {
            size: {{ pagesize|default:"A4" }};
            margin-left: 2cm;
            margin-right: 2cm;
            margin-top: 1cm;
            margin-bottom: 1.5cm;
        }

        body, p, h1 {
            margin: 0;
            padding: 0;
        }

        body {
            font: 9pt "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;
        }


        /* Header */

        .logo {
            text-align: right;
        }

        .title {
            font-size: 14pt;
        }


        /* Transport Request Formatting */

        .request {
            page-break-after: always;
        }

        .table-caption {
            font-size: 10pt;
            margin-top: 15px;
        }

        table {
            margin-bottom: 0;
            border-collapse: collapse;
            border-spacing: 0;
        }

        td {
            border: 1px solid #777;
            padding: 2px;
            vertical-align: middle;
            min-width: 100;
            line-height: normal;
        }

        td.label {
            width: 100;
            background-color: #ddd;
        }

        .big-labels td.label {
            width: 180;
        }

        .request .note {
            font-size: 7pt;
        }

        .request .comment {
            white-space: pre-wrap;
        }


        /* signature style */

        .agb-text {
            font-size: 8pt;
            line-height: 9pt;
            margin: 10px 0;
        }

        .signature {
            margin-top: 25px;
        }

        .signature td {
            border: none;
            padding: 0;
            margin: 0;
        }

        .signature .gap {
            width: 0.5cm;
        }

        .signature td.fill-out {
            width: 5cm;
        }

    </style>
{% endblock %}

{% block content %}
    {% for ride in rides %}
        <div class="request">
            <header>
                <div class="logo">
                    {% for logo in logos %}&nbsp; &nbsp;<img src="{{ logo }}" width="128" />{% endfor %}
                </div>
                <div class="title"><span>Transportauftrag {{ ride.pk }} </span></div>
            </header>

            <div class="inside">
                <div class="part">
                    <table>
                        <tr>
                            <td class="label">Transportgut</td><td>{{ ride.planned_velos | default:"" }} {{ ride.velo_state | default:"" }} </td>
                            <td class="label">Kategorie Velospender</td><td>{{ ride.request_category | default:"" }} </td>
                        </tr>
                        <tr>
                            <td class="label">Erstellt am</td><td>{{ ride.date_created | date:"d.m.Y" }} </td>
                            <td class="label">von</td><td>{{ ride.created_by }} </td>
                        </tr>
                        <tr>
                            <td class="label">Bemerkung</td>
                            <td colspan="3" class="comment">{{ ride.request_comment }} </td>
                        </tr>
                    </table>
                </div>

                <div class="part">
                    <div class="table-caption">
                        <span>Abholen in {{ ride.from_warehouse|default:"" }} </span>
                    </div>
                    <table>
                        <tr>
                            <td class="label">Adresse</td><td>{{ ride.from_street_nr }} </td>
                            <td class="label">Kontakt</td><td>{{ ride.from_contact_name }} </td>
                        </tr>
                        <tr>
                            <td class="label">PLZ, Ort</td><td>{{ ride.from_zip_code }} {{ ride.from_city }} </td>
                            <td class="label">Telefon</td><td>{{ ride.from_contact_phone }}  </td>
                        </tr>
                        <tr>
                            <td class="label">Details Standort</td><td colspan="3" class="comment">{{ ride.from_comment }} </td>
                        </tr>
                    </table>
                </div>

                <div class="part">
                    <div class="table-caption">
                        <span>Liefern nach {{ ride.to_warehouse|default:"" }} </span>
                    </div>
                    <table>
                        <tr>
                            <td class="label">Adresse</td><td>{{ ride.to_street_nr }} </td>
                            <td class="label">Kontakt</td><td>{{ ride.to_contact_name }} </tr>
                        </tr>
                        <tr>
                            <td class="label">PLZ, Ort</td><td>{{ ride.to_zip_code }} {{ ride.to_city }} </td>
                            <td class="label">Telefon</td><td>{{ ride.to_contact_phone }}  </td>
                        </tr>
                        <tr>
                            <td class="label">Details Standort</td><td colspan="3" class="comment">{{ ride.to_comment }} </td>
                        </tr>
                    </table>
                </div>

                <div class="part">
                    <div class="table-caption"><span>Auftraggeber*in</span></div>
                    <table>
                        <tr><td class="label">Firma</td><td>{{ ride.customer_company }} </td></tr>
                        <tr><td class="label">Name</td><td>{{ ride.customer_salutation }} {{ ride.customer_firstname }} {{ ride.customer_lastname }} </td></tr>
                        <tr><td class="label">Adresse</td><td>{{ ride.customer_street_nr }} </td></tr>
                        <tr><td class="label">PLZ, Ort</td><td>{{ ride.customer_zip_code }} {{ ride.customer_city }} </td></tr>
                        <tr><td class="label">Telefon</td><td>{{ ride.customer_phone }} </td></tr>
                        <tr><td class="label">Email</td><td>{{ ride.customer_email }} </td></tr>
                    </table>
                </div>

                <div class="part">
                    <div class="table-caption"><span>Terminvereinbarung</span></div>
                    <table>
                        <tr>
                            <td class="label">Abholtermin</td>
                            <td colspan="3">{{ ride.date | date:"d.m.Y H:i" | default:"" }} </td>
                        </tr>
                        <tr>
                            <td class="label">Anzahl Velos</td>
                            <td colspan="3">{{ ride.velos | default:"" }} </td>
                        </tr>
                        <tr>
                            <td class="label">Bemerkung</td>
                            <td colspan="3" class="comment">{{ ride.note | default:"" }} </td>
                        </tr>
                        <tr>
                            <td class="label">Datum</td>
                            <td> </td>
                            <td class="label">Visum</td>
                            <td> </td>
                        </tr>
                    </table>
                </div>
                <div class="part confirmation">
                    <div class="table-caption"><span>Bestätigung bei Räumung von Drittvelos</span></div>
                    <table class="big-labels">
                        <tr>
                            <td class="label">Liegenschaftsverwaltung</td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td class="label">Liegenschaft <span class="note">(Adresse)</span></td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td class="label">Zuständige Person <span class="note">(z.B. Hauswart*in, Verwalter*in)</span></td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td class="label">Anzahl Velos</td>
                            <td> </td>
                        </tr>
                    </table>
                    <div class="agb">
                        <div class="agb-text">
                            <span>Wir bestätigen hiermit, dass wir keine Forderungen an Velafrica/Drahtesel stellen werden, sollte sich herausstellen, dass ein Velo von der oben genannten Räumung fälschlicherweise entsorgt oder zur weiteren Verwendung in Afrika freigegeben wurde. Wir gehen davon aus, dass es sich bei den Velos um herrenlose Ware handelt, und wir daher darüber verfügen dürfen. Die vorgängigen Besitzer sind nicht mehr zu ermitteln oder verzichten auf ihre Besitzrechte.</span>
                        </div>
                        <table class="signature">
                            <tr>
                                <td class="">Ort, Datum:</td>
                                <td class="fill-out"> </td>
                                <td class="gap"> </td>
                                <td class="">Unterschrift:</td>
                                <td class="fill-out"> </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
{% endblock %}